<!DOCTYPE html>
<html lang="en">
<head>
    <title>用户登陆</title>
    <meta charset="UTF-8">
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="This is my page">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <!--
    <link rel="stylesheet" type="text/css" href="styles.css">
    -->
    <title>Title</title>
</head>
<body>

<form name="loginForm" id="loginForm"  method="post">
    <input type="text" name="username" id="user_login"
           class="input"  size="20" required/></label>
    <input type="password" name="password" id="user_pass"
           class="input"  size="20" required/>
    <input name="auto" type="checkbox" id="auto" value="1" /> 自动登录
    <input type="button" name="wp-submit" id="submit-btn" class="button button-primary button-large" value="登录" />
</form>
<script type="text/javascript">
    $("#submit-btn").click(function () {
        var user = $("#user_login").val();
        var password = $("#user_pass").val();
        if(user=="") {
            alert("用户名不可为空!");
        } else if(password==""){
            alert("密码不可为空!");
        } else {
            $.ajax({
                async: false,//同步，待请求完毕后再执行后面的代码
                type: "POST",
                url: 'loginVerify',
                contentType: "application/x-www-form-urlencoded; charset=utf-8",
                data: $("#loginForm").serialize(),
                dataType: "json",
                success: function (data) {
                    if(data.code==0) {
                        alert(data.msg);
                    } else {
                        window.location.href="userDemo/index";
                    }
                },
                error: function () {
                    alert("数据获取失败")
                }
            })
        }
    })
</script>
</body>
</html>